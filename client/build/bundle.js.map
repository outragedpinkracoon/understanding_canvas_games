{"version":3,"sources":["webpack:///webpack/bootstrap 7020df1889c962d94ecf","webpack:///./src/app.js","webpack:///./src/models/images.js","webpack:///./src/models/keyboardEvents.js","webpack:///./src/models/display.js","webpack:///./src/models/renderer.js","webpack:///./src/models/world.js","webpack:///./src/requestAnimationShim.js","webpack:///./src/models/animal.js","webpack:///./src/models/farmer.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA,gC;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA,0B;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sCAAqC;AACrC;AACA;AACA,sCAAqC;AACrC;AACA;AACA,sCAAqC;AACrC;AACA;AACA,sCAAqC;AACrC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,wBAAwB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uB;;;;;;AChFA;AACA;AACA;AACA,mBAAkB,qDAAqD;AACvE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAmD,iCAAiC,EAAE;AACtF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC,I;;;;;;ACvBD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA,yB;;;;;;ACzBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,wB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7020df1889c962d94ecf\n **/","var Farmer = require('./models/farmer')\nvar Animal = require('./models/animal')\nvar Images = require('./models/images')\nvar KeyboardEvents = require('./models/keyboardEvents')\nvar Display = require('./models/display')\nvar Renderer = require('./models/renderer')\nvar World = require('./models/world')\n\nrequire('./requestAnimationShim')\n\nwindow.onload = function () {\n\n  var display = new Display()\n  var canvas = display.canvas\n  var ctx = display.ctx\n  var images = new Images();\n\n  var keyPressTracker = new KeyboardEvents().keyPressTracker\n\n  var worldDimensions = {\n    width: canvas.width,\n    height: canvas.height\n  }\n\n  var animal = new Animal(worldDimensions)\n  var hero = new Farmer(worldDimensions)\n\n  var world = new World(hero, [animal], keyPressTracker, worldDimensions)\n  renderer = new Renderer(display, world, images)\n\n  renderer.draw()\n  \n}\n\n\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/app.js\n ** module id = 0\n ** module chunks = 0\n **/","var Images = function(){\n  this.background = this.addImage(\"images/background.png\")\n  this.farmer = this.addImage(\"images/farmer.png\")\n  this.animal = this.addImage(\"images/chicken_left.png\")\n}\n\nImages.prototype = {\n  addImage: function(path) {\n    var image = new Image()\n    image.src = path\n    return image\n  }\n}\n\nmodule.exports = Images\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/images.js\n ** module id = 3\n ** module chunks = 0\n **/","var KeyboardEvents = function(){\n  this.keyPressTracker = {}\n\n  addEventListener(\"keydown\", function (e) {\n    this.keyPressTracker[e.keyCode] = true\n  }.bind(this), false)\n\n  addEventListener(\"keyup\", function (e) {\n    delete this.keyPressTracker[e.keyCode]\n  }.bind(this), false)\n}\nmodule.exports = KeyboardEvents\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/keyboardEvents.js\n ** module id = 4\n ** module chunks = 0\n **/","var Display = function(){\n  this.canvas = document.getElementsByTagName(\"canvas\")[0]\n  this.ctx = this.canvas.getContext(\"2d\")\n}\nmodule.exports = Display\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/display.js\n ** module id = 5\n ** module chunks = 0\n **/","var Renderer = function(display, world, images){\n  this.canvas = display.canvas\n  this.ctx = display.ctx\n  this.world = world\n  this.images = images\n  this.imageSize = 32\n}\n\nRenderer.prototype = {\n  draw: function() {\n    this.clearCanvas()\n\n    this.world.update()\n    this.drawImages()\n\n    this.drawMonsterCaughtCount()\n\n    requestAnimationFrame(function(){\n      this.draw()\n    }.bind(this))\n  },\n  drawMonsterCaughtCount: function(){\n    displayTag = document.getElementById(\"score\");\n    displayTag.innerText = this.world.total;\n  },\n  drawImages: function(){\n    this.ctx.drawImage(this.images.background, 0, 0)\n    this.ctx.drawImage(this.images.farmer, this.world.farmer.x, this.world.farmer.y)\n    for(animal of this.world.animals){\n      if(!animal.isHidden){\n        this.ctx.drawImage(this.images.animal, animal.x, animal.y)\n      }\n    } \n  },\n  clearCanvas: function(){\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n  }\n}\n\nmodule.exports = Renderer\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/renderer.js\n ** module id = 6\n ** module chunks = 0\n **/","var Animal = require('./animal')\nvar World = function(farmer, animals, keyPressTracker, dimensions){\n  this.animalsCaught = 0\n  this.keyPressTracker = keyPressTracker\n  this.farmer = farmer\n  this.animals = animals\n  this.dimensions = dimensions\n  this.animalsNeeded = 1;\n  this.total = 0;\n}\n\nWorld.prototype = {\n  update: function() {\n    if (38 in this.keyPressTracker) { //up\n      this.farmer.moveUp()\n    }\n    if (40 in this.keyPressTracker) { //down\n      this.farmer.moveDown()\n    }\n    if (37 in this.keyPressTracker) { //left\n      this.farmer.moveLeft()\n    }\n    if (39 in this.keyPressTracker) { //right\n      this.farmer.moveRight()\n    }\n\n    this.checkCollisons()\n\n    if(this.animalsCaught === this.animalsNeeded){\n      console.log(\"before reset\")\n      console.log(\"animals needed:\", this.animalsNeeded)\n      console.log(\"animals caught:\", this.animalsCaught)\n      this.animalsCaught = 0\n      console.log(\"animals caught:\", this.animalsCaught)\n      this.animalsNeeded++\n      this.animals = []\n      for(var i = 0; i < this.animalsNeeded; i++ ){\n        var newAnimal = new Animal(this.dimensions)\n        this.animals.push(newAnimal)\n      }\n      console.log(\"after reset\")\n      console.log(\"animals needed:\", this.animalsNeeded)\n      console.log(\"animals caught:\", this.animalsCaught)\n\n      console.log(\"**********************\")\n    }\n\n  },\n  checkCollisons: function(){\n    for(animal of this.animals) {\n      if(animal.isHidden){\n        continue;\n      }\n      var hasCollided = this.collisionTest(this.farmer, animal)\n      if(hasCollided){\n        console.log(\"before collision\")\n        console.log(\"animals needed:\", this.animalsNeeded)\n        console.log(\"animals caught:\", this.animalsCaught)\n        this.animalsCaught++\n        this.total++\n        // this.farmer.setPosition()\n        animal.isHidden = true\n        console.log(\"after collision\")\n        console.log(\"animals needed:\", this.animalsNeeded)\n        console.log(\"animals caught:\", this.animalsCaught)\n\n        console.log(\"reset result :\", this.animalsCaught === this.animalsNeeded)\n        console.log(\"-------------------\")\n      }\n    }\n  },\n  collisionTest: function(object1, object2) {\n    var collisionTolerance = 20\n    return object1.x <= (object2.x + collisionTolerance)\n    && object2.x <= (object1.x + collisionTolerance)\n    && object1.y <= (object2.y + collisionTolerance)\n    && object2.y <= (object1.y + collisionTolerance)\n  }\n}\n\nmodule.exports = World\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/world.js\n ** module id = 7\n ** module chunks = 0\n **/","(function() {\n    var lastTime = 0;\n    var vendors = ['ms', 'moz', 'webkit', 'o'];\n    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n        window.requestAnimationFrame = window[vendors[x]+'RequestAnimationFrame'];\n        window.cancelAnimationFrame = window[vendors[x]+'CancelAnimationFrame']\n                                   || window[vendors[x]+'CancelRequestAnimationFrame'];\n    }\n \n    if (!window.requestAnimationFrame)\n        window.requestAnimationFrame = function(callback, element) {\n            var currTime = new Date().getTime();\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n            var id = window.setTimeout(function() { callback(currTime + timeToCall); },\n              timeToCall);\n            lastTime = currTime + timeToCall;\n            return id;\n        };\n \n    if (!window.cancelAnimationFrame)\n        window.cancelAnimationFrame = function(id) {\n            clearTimeout(id);\n        };\n}());\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/requestAnimationShim.js\n ** module id = 8\n ** module chunks = 0\n **/","var Animal = function(worldDimensions) {\n  this.worldDimensions = worldDimensions\n  this.imageSize = 32\n  this.setPosition()\n  this.isHidden = false\n}\n\nAnimal.prototype = {\n  //this doesn't belong in here\n  randomPos: function(dimension) {\n    var smallest = this.imageSize * 2\n    var largest = dimension - this.imageSize\n    return this.randomIntFromInterval(smallest, largest)\n    \n  },\n  setPosition: function(){\n    this.x = this.randomPos(this.worldDimensions.width)\n    this.y = this.randomPos(this.worldDimensions.height)\n  },\n  randomIntFromInterval: function(min,max){\n    return Math.floor(Math.random()*(max-min+1)+min)\n  }\n\n}\n\nmodule.exports = Animal;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/animal.js\n ** module id = 9\n ** module chunks = 0\n **/","var Farmer = function(worldDimensions) {\n  this.speed = 4\n  this.worldDimensions = worldDimensions\n  this.setPosition()\n}\n\nFarmer.prototype = {\n  moveUp: function(){\n      this.y -= this.speed\n  },\n  moveDown: function(){\n    this.y += this.speed\n  },\n  moveLeft: function(){\n    this.x -= this.speed\n  },\n  moveRight: function(){\n    this.x += this.speed\n  },\n  setPosition: function(){\n    this.x = this.worldDimensions.width / 2\n    this.y = this.worldDimensions.height / 2\n  }\n}\n\nmodule.exports = Farmer\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/models/farmer.js\n ** module id = 10\n ** module chunks = 0\n **/"],"sourceRoot":""}